import java.awt.Color;
import java.awt.Dimension;
import java.awt.Graphics;
import javax.swing.JPanel;

import pieces.Block;
import pieces.Piece;

public class PieceScreen extends JPanel {

	int screenWidth;
	int screenHeight;
	int screenWidthP;
	int screenHeightP;
	Piece piece;
	int pixel = 10;
	int frame = 2;
	
	public PieceScreen (int screenWidth, int screenHeight, Piece nextPiece) {
		this.screenWidth = screenWidth;
		this.screenHeight = screenHeight;
		
		screenWidthP = (frame * (screenWidth + 1)) + (pixel * screenWidth);
		screenHeightP = (frame * (screenHeight + 1)) + (pixel * screenHeight);
		
		this.setPreferredSize(new Dimension(screenWidthP, screenHeightP));
	}
	
	public void paint (Graphics g) {
		paintBackground(g);
		
		if (piece != null) {
			
			for (int i = 0; i < piece.getBlockList().size(); i++) {
				
				Block b = piece.getBlockList().get(i);
	
				g.setColor(piece.getColor());
				g.fillRect(b.getPosX() * (pixel + frame), b.getPosY() * (pixel + frame), pixel, pixel);
				
			}
		}
	}
	
	private void paintBackground (Graphics g) {
		System.out.println("PAINTING BACKGROUND");
		g.setColor(Color.WHITE);
		g.fillRect(0, 0, screenWidthP, screenHeightP);
	}

	public void setPiece(Piece piece) {
		this.piece = piece;
	}
	
}
